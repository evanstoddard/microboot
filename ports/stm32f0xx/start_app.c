/*
 * Copyright (C) Evan Stoddard
 */

/**
 * @file start_app.c
 * @author Evan Stoddard
 * @brief stm32f0xx function to kick into application
 */

/*****************************************************************************
 * Definitions
 *****************************************************************************/

/*****************************************************************************
 * Variables
 *****************************************************************************/

/*****************************************************************************
 * Prototypes
 *****************************************************************************/

/*****************************************************************************
 * Functions
 *****************************************************************************/
void start_app(uint32_t pc, uint32_t sp) {
    __asm volatile ("MSR msp, %0" : : "r" (sp) : );
    void (*application_reset_handler)(void) = (void *)pc;
    application_reset_handler();
}